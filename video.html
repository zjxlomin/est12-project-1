<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Video</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="style.css">
        <script src="videoList.js"></script>
    </head>
    <body>
        <!-- 상단바 -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light" style="position: fixed; z-index: 1;">
            <!-- 로고 -->
            <div>
                <a href="home.html">
                    <img src="img/yt_icon.png" alt="" class="home-icon">
                </a> 
            </div>
            <!-- 검색창 -->
            <div style="position: absolute; right: 20%; left: 20%; max-width: 500px;">
                <input id="search" class="search-bar" type="text" placeholder="검색">
                <button class="search-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="30" height="30"><path fill-rule="evenodd" d="M12.323 13.383a5.5 5.5 0 1 1 1.06-1.06l2.897 2.897a.75.75 0 1 1-1.06 1.06l-2.897-2.897Zm.677-4.383a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>
                </button>
                <button id="clear" class="clear-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
                </button>
            </div>
            <!-- 프로필 -->
            <a href="" style="position: absolute; right: 20px;"> 
                <img class="ch-profile" src="img/profiles/my_profile.jpg" alt="" >
            </a>
        </nav>
        <div class="container">
            <div class="row">
                <div class="col vid-cont" style="position: relative;">
                    <div class="row" style="position: relative;">
                        <!-- 영상 및 설명 -->
                        <script>showVideo(video, id);</script>
                        <!-- 좋아요/싫어요 버튼 -->
                        <button id="like" class="like-btn">
                            <div class="row">
                                <div class="col" style="max-width: 20px; margin-left: 25px; margin-bottom: 5px;">
                                    <?xml version="1.0" standalone="no"?>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="20" height="20">
                                        <path id="likeIcon" fill="#000000" d="M273 495.9v428l.3-428zm538.2-88.3H496.8l9.6-198.4c.6-11.9-4.7-23.1-14.6-30.5-6.1-4.5-13.6-6.8-21.1-6.7-19.6.1-36.9 13.4-42.2 32.3-37.1 134.4-64.9 235.2-83.5 302.5V852h399.4a56.85 56.85 0 0 0 33.6-51.8c0-9.7-2.3-18.9-6.9-27.3l-13.9-25.4 21.9-19a56.76 56.76 0 0 0 19.6-43c0-9.7-2.3-18.9-6.9-27.3l-13.9-25.4 21.9-19a56.76 56.76 0 0 0 19.6-43c0-9.7-2.3-18.9-6.9-27.3l-14-25.5 21.9-19a56.76 56.76 0 0 0 19.6-43c0-19.1-11-37.5-28.8-48.4z"/>
                                        <path d="M112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32zm773.9 5.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.5-65.5-111a67.67 67.67 0 0 0-34.3-9.3H572.3l6-122.9c1.5-29.7-9-57.9-29.5-79.4a106.4 106.4 0 0 0-77.9-33.4c-52 0-98 35-111.8 85.1l-85.8 310.8-.3 428h472.1c9.3 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37zM820.4 499l-21.9 19 14 25.5a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.1 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.1 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 22.4-13.2 42.6-33.6 51.8H345V506.8c18.6-67.2 46.4-168 83.5-302.5a44.28 44.28 0 0 1 42.2-32.3c7.5-.1 15 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.1 32.2-19.6 43z"/>
                                    </svg>
                                </div>
                                <div class="col" style="max-width: 80px; margin-top: 2px; margin-right: 5px;">
                                    <p id="likeNum" style="margin: 0px; padding: 0px;">123</p>
                                </div>
                            </div>
                        </button>
                        <button id="dislike" class="dislike-btn">
                            <?xml version="1.0" standalone="no"?>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="20" height="20">
                                <path id="dislikeIcon" fill="#D9D9D9" d="M273 100.1v428h.3l-.3-428zM820.4 525l-21.9-19 14-25.5a56.2 56.2 0 0 0 6.9-27.3c0-16.5-7.1-32.2-19.6-43l-21.9-19 13.9-25.4a56.2 56.2 0 0 0 6.9-27.3c0-16.5-7.1-32.2-19.6-43l-21.9-19 13.9-25.4a56.2 56.2 0 0 0 6.9-27.3c0-22.4-13.2-42.6-33.6-51.8H345v345.2c18.6 67.2 46.4 168 83.5 302.5a44.28 44.28 0 0 0 42.2 32.3c7.5.1 15-2.2 21.1-6.7 9.9-7.4 15.2-18.6 14.6-30.5l-9.6-198.4h314.4C829 605.5 840 587.1 840 568c0-16.5-7.1-32.2-19.6-43z"/>
                                <path d="M112 132v364c0 17.7 14.3 32 32 32h65V100h-65c-17.7 0-32 14.3-32 32zm773.9 358.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 0 0-26.5-5.4H273l.3 428 85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zm-74.7 126.1H496.8l9.6 198.4c.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7a44.28 44.28 0 0 1-42.2-32.3c-37.1-134.4-64.9-235.2-83.5-302.5V172h399.4a56.85 56.85 0 0 1 33.6 51.8c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0 1 19.6 43c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0 1 19.6 43c0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19a56.76 56.76 0 0 1 19.6 43c0 19.1-11 37.5-28.8 48.4z"/>
                            </svg>
                        </button>
                    </div>
                    <!-- 댓글창 -->
                    <div class="row">
                        <h5 id="commNum" style="margin-top: 20px; padding-left: 12px; font-weight: bold;">
                            댓글 1개
                        </h5>
                        <!-- 댓글 입력 -->
                        <div class="row" style="max-height: 40px; padding: 0px; margin-bottom: 30px;">
                            <div class="col" style="max-width: 40px; margin-left: 15px;">
                                <img class="ch-profile" style="padding: 0px; margin: 0px;" src="img/profiles/my_profile.jpg" alt="" >
                            </div>
                            <div class="col" style="padding-left: 25px;">
                                <input type="text" id="commInput" class="comment-input" placeholder="댓글 추가...">
                            </div>
                        </div>
                        <!-- 댓글 목록 -->
                        <div id="commList">
                            <div id="comm_1">
                                <div class="row" style="padding: 0px; margin-bottom: 30px;">
                                    <div class="col" style="max-width: 40px; margin-left: 15px; padding: 0px;">
                                        <img class="ch-profile" style="padding: 0px; margin: 0px;" src="img/profiles/notmy_profile.jpg" alt="" >
                                    </div>
                                    <div class="col" style="padding-left: 25px;">
                                        <div style="font-weight: bold;">@someone</div>
                                        <div>Hello^^</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <!-- 우측 영상 목록 -->
                <div class="side-bar-vid bg-light">
                    <script>showRecomm(videoList, id);</script>
                </div>
            </div>
        </div>

        <script>
            // 검색창
            document.getElementById("clear").addEventListener('click', function() {
                document.getElementById("search").value = "";
            })

            // 좋아요/싫어요 버튼
            let likes = 123;
            let isLiked = false;
            let isDisliked = false;

            const likeTxt = document.getElementById("likeNum");
            const likeBtn = document.getElementById("likeIcon");
            const dislikeBtn = document.getElementById("dislikeIcon");

            document.getElementById("like").addEventListener('click', function() {
                if(!isLiked) {
                    likes++;
                    isLiked = true;
                    likeTxt.style.fontWeight = "bold";
                    likeBtn.style.fill = "black";
                    if(isDisliked) {
                        isDisliked = false;
                        dislikeBtn.style.fill = "none";
                    }
                }
                else {
                    likes--;
                    isLiked = false;
                    likeTxt.style.fontWeight = "normal";
                    likeBtn.style.fill = "none";
                }
                likeTxt.textContent = `${likes}`;
            })

            document.getElementById("dislike").addEventListener('click', function() {
                if(!isDisliked) {
                    isDisliked = true;
                    dislikeBtn.style.fill = "black";
                    if(isLiked) {
                        likes--;
                        isLiked = false;
                        likeTxt.textContent = `${likes}`;
                        likeTxt.style.fontWeight = "normal";
                        likeBtn.style.fill = "none";
                    }
                }
                else {
                    isDisliked = false;
                    dislikeBtn.style.fill = "none";
                }
            })

            // 댓글 입력
            let commNum = 1;

            const commInput = document.getElementById("commInput");
            const commList = document.getElementById("commList");

            commInput.addEventListener('click', function() {
                commInput.style.borderBottom = "2px solid black";
            })
            
            commInput.addEventListener('keydown', function(event) {
                if(event.key === "Enter" && this.value != "") {
                    commList.insertAdjacentHTML("afterbegin",`
                        <div id="comm_${++commNum}">
                            <div class="row" style="padding: 0px; margin-bottom: 30px;">
                                <div class="col" style="max-width: 40px; margin-left: 15px; padding: 0px;">
                                    <img class="ch-profile" style="padding: 0px; margin: 0px;" src="img/profiles/my_profile.jpg" alt="" >
                                </div>
                                <div class="col" style="padding-left: 25px;">
                                    <div style="font-weight: bold;">@user</div>
                                    <div>${this.value}</div>
                                </div>
                            </div>
                        </div>
                    `);
                    this.value = "";
                    document.getElementById("commNum").textContent = `댓글 ${commNum}개`;
                }
            })
        </script>
    </body>
</html>