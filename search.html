<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="style.css">
        <script src="externalJs.js"></script>
        <script>document.title = `${keyword} - YouTube`;</script>
    </head>
    <body>
        <!-- 상단바 -->
        <script>showHeader(myAccount);</script>
        <div class="container">
            <div class="row">
                <!-- 사이드바 -->
                <div class="col side-bar-home">
                    <script>showLeftside(true, false);</script>
                </div>
                <!-- 영상 목록 -->
                <div class="col content">
                    <script>showResult(keyword, videoList);</script>
                </div>
            </div>
        </div>

        <script>
            // 좌측 사이드바 확장/축소
            const leftBtn = document.getElementById("left-btn");
            const leftNormal = document.getElementById("leftNormal");
            const leftShrinked = document.getElementById("leftShrinked");
            const leftSideBar = document.querySelector('.side-bar-home');
            const cont = document.querySelector('.content');
            let isLeftShrinked = false;

            leftBtn.addEventListener('click', function() {
                if(!isLeftShrinked) {
                    leftNormal.style.display = "none";
                    leftShrinked.style.display = "block";
                    leftSideBar.style.maxWidth = "80px";
                    cont.style.marginLeft = "80px";
                    isLeftShrinked = true;
                }
                else {
                    leftNormal.style.display = "block";
                    leftShrinked.style.display = "none";
                    leftSideBar.style.maxWidth = "230px";
                    cont.style.marginLeft = "230px";
                    isLeftShrinked = false;
                }
            })

            // 검색어 지우기
            const searchKeyword = document.getElementById("search");
            
            document.getElementById("clear").addEventListener('click', function() {
                searchKeyword.value = "";
            })

            // 검색 이동
            document.getElementById("search-res").addEventListener('click', function() {
                location.href=`search.html?keyword=${searchKeyword.value}`;
            })

            searchKeyword.addEventListener('keydown', function(event) {
                if(event.key === "Enter") {
                    location.href=`search.html?keyword=${searchKeyword.value}`;
                }
            })

            // 계정 정보 메뉴 modal
            const modal = document.querySelector('.modal');
            const btnOpenModal = document.querySelector('.btn-open-modal');

            btnOpenModal.addEventListener("click", function() {
                modal.style.display = "flex";

            });
            modal.addEventListener('click', function(e) {
                if(e.target == modal) {
                    modal.style.display = "none";
                }
            })
        </script>
    </body>
</html>